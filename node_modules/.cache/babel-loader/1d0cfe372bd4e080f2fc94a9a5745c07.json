{"ast":null,"code":"// [VexFlow](http://vexflow.com) - Copyright (c) Mohit Muthanna 2010.\n//\n// ## Description\n//\n// A `BarNote` is used to render bar lines (from `barline.js`). `BarNote`s can\n// be added to a voice and rendered in the middle of a stave. Since it has no\n// duration, it consumes no `tick`s, and is dealt with appropriately by the formatter.\n//\n// See `tests/barnote_tests.js` for usage examples.\nimport { Vex } from './vex';\nimport { Note } from './note';\nimport { Barline } from './stavebarline'; // To enable logging for this class. Set `Vex.Flow.BarNote.DEBUG` to `true`.\n\nfunction L(...args) {\n  if (BarNote.DEBUG) Vex.L('Vex.Flow.BarNote', args);\n}\n\nexport class BarNote extends Note {\n  constructor(type = Barline.type.SINGLE) {\n    super({\n      duration: 'b'\n    });\n    this.setAttribute('type', 'BarNote');\n    this.metrics = {\n      widths: {}\n    };\n    const TYPE = Barline.type;\n    this.metrics.widths = {\n      [TYPE.SINGLE]: 8,\n      [TYPE.DOUBLE]: 12,\n      [TYPE.END]: 15,\n      [TYPE.REPEAT_BEGIN]: 14,\n      [TYPE.REPEAT_END]: 14,\n      [TYPE.REPEAT_BOTH]: 18,\n      [TYPE.NONE]: 0\n    }; // Tell the formatter that bar notes have no duration.\n\n    this.ignore_ticks = true;\n    this.setType(type);\n  } // Get and set the type of Bar note. `type` must be one of `Vex.Flow.Barline.type`.\n\n\n  getType() {\n    return this.type;\n  }\n\n  setType(type) {\n    this.type = typeof type === 'string' ? Barline.typeString[type] : type; // Set width to width of relevant `Barline`.\n\n    this.setWidth(this.metrics.widths[this.type]);\n    return this;\n  }\n\n  getBoundingBox() {\n    return super.getBoundingBox();\n  }\n\n  addToModifierContext() {\n    /* overridden to ignore */\n    return this;\n  }\n\n  preFormat() {\n    /* overridden to ignore */\n    this.setPreFormatted(true);\n    return this;\n  } // Render note to stave.\n\n\n  draw() {\n    this.checkContext();\n    if (!this.stave) throw new Vex.RERR('NoStave', \"Can't draw without a stave.\");\n    L('Rendering bar line at: ', this.getAbsoluteX());\n    const barline = new Barline(this.type);\n    barline.setX(this.getAbsoluteX());\n    barline.draw(this.stave);\n    this.setRendered();\n  }\n\n}","map":{"version":3,"sources":["/Users/adamsarli/Coding/music-app/node_modules/vexflow/src/barnote.js"],"names":["Vex","Note","Barline","L","args","BarNote","DEBUG","constructor","type","SINGLE","duration","setAttribute","metrics","widths","TYPE","DOUBLE","END","REPEAT_BEGIN","REPEAT_END","REPEAT_BOTH","NONE","ignore_ticks","setType","getType","typeString","setWidth","getBoundingBox","addToModifierContext","preFormat","setPreFormatted","draw","checkContext","stave","RERR","getAbsoluteX","barline","setX","setRendered"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,GAAT,QAAoB,OAApB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,OAAT,QAAwB,gBAAxB,C,CAEA;;AACA,SAASC,CAAT,CAAW,GAAGC,IAAd,EAAoB;AAAE,MAAIC,OAAO,CAACC,KAAZ,EAAmBN,GAAG,CAACG,CAAJ,CAAM,kBAAN,EAA0BC,IAA1B;AAAkC;;AAE3E,OAAO,MAAMC,OAAN,SAAsBJ,IAAtB,CAA2B;AAChCM,EAAAA,WAAW,CAACC,IAAI,GAAGN,OAAO,CAACM,IAAR,CAAaC,MAArB,EAA6B;AACtC,UAAM;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAN;AACA,SAAKC,YAAL,CAAkB,MAAlB,EAA0B,SAA1B;AAEA,SAAKC,OAAL,GAAe;AACbC,MAAAA,MAAM,EAAE;AADK,KAAf;AAIA,UAAMC,IAAI,GAAGZ,OAAO,CAACM,IAArB;AACA,SAAKI,OAAL,CAAaC,MAAb,GAAsB;AACpB,OAACC,IAAI,CAACL,MAAN,GAAe,CADK;AAEpB,OAACK,IAAI,CAACC,MAAN,GAAe,EAFK;AAGpB,OAACD,IAAI,CAACE,GAAN,GAAY,EAHQ;AAIpB,OAACF,IAAI,CAACG,YAAN,GAAqB,EAJD;AAKpB,OAACH,IAAI,CAACI,UAAN,GAAmB,EALC;AAMpB,OAACJ,IAAI,CAACK,WAAN,GAAoB,EANA;AAOpB,OAACL,IAAI,CAACM,IAAN,GAAa;AAPO,KAAtB,CATsC,CAmBtC;;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,OAAL,CAAad,IAAb;AACD,GAvB+B,CAyBhC;;;AACAe,EAAAA,OAAO,GAAG;AAAE,WAAO,KAAKf,IAAZ;AAAmB;;AAC/Bc,EAAAA,OAAO,CAACd,IAAD,EAAO;AACZ,SAAKA,IAAL,GAAY,OAAOA,IAAP,KAAiB,QAAjB,GACRN,OAAO,CAACsB,UAAR,CAAmBhB,IAAnB,CADQ,GAERA,IAFJ,CADY,CAKZ;;AACA,SAAKiB,QAAL,CAAc,KAAKb,OAAL,CAAaC,MAAb,CAAoB,KAAKL,IAAzB,CAAd;AACA,WAAO,IAAP;AACD;;AAEDkB,EAAAA,cAAc,GAAG;AACf,WAAO,MAAMA,cAAN,EAAP;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB;AACA,WAAO,IAAP;AACD;;AAEDC,EAAAA,SAAS,GAAG;AACV;AACA,SAAKC,eAAL,CAAqB,IAArB;AACA,WAAO,IAAP;AACD,GAlD+B,CAoDhC;;;AACAC,EAAAA,IAAI,GAAG;AACL,SAAKC,YAAL;AACA,QAAI,CAAC,KAAKC,KAAV,EAAiB,MAAM,IAAIhC,GAAG,CAACiC,IAAR,CAAa,SAAb,EAAwB,6BAAxB,CAAN;AACjB9B,IAAAA,CAAC,CAAC,yBAAD,EAA4B,KAAK+B,YAAL,EAA5B,CAAD;AACA,UAAMC,OAAO,GAAG,IAAIjC,OAAJ,CAAY,KAAKM,IAAjB,CAAhB;AACA2B,IAAAA,OAAO,CAACC,IAAR,CAAa,KAAKF,YAAL,EAAb;AACAC,IAAAA,OAAO,CAACL,IAAR,CAAa,KAAKE,KAAlB;AACA,SAAKK,WAAL;AACD;;AA7D+B","sourcesContent":["// [VexFlow](http://vexflow.com) - Copyright (c) Mohit Muthanna 2010.\n//\n// ## Description\n//\n// A `BarNote` is used to render bar lines (from `barline.js`). `BarNote`s can\n// be added to a voice and rendered in the middle of a stave. Since it has no\n// duration, it consumes no `tick`s, and is dealt with appropriately by the formatter.\n//\n// See `tests/barnote_tests.js` for usage examples.\n\nimport { Vex } from './vex';\nimport { Note } from './note';\nimport { Barline } from './stavebarline';\n\n// To enable logging for this class. Set `Vex.Flow.BarNote.DEBUG` to `true`.\nfunction L(...args) { if (BarNote.DEBUG) Vex.L('Vex.Flow.BarNote', args); }\n\nexport class BarNote extends Note {\n  constructor(type = Barline.type.SINGLE) {\n    super({ duration: 'b' });\n    this.setAttribute('type', 'BarNote');\n\n    this.metrics = {\n      widths: {},\n    };\n\n    const TYPE = Barline.type;\n    this.metrics.widths = {\n      [TYPE.SINGLE]: 8,\n      [TYPE.DOUBLE]: 12,\n      [TYPE.END]: 15,\n      [TYPE.REPEAT_BEGIN]: 14,\n      [TYPE.REPEAT_END]: 14,\n      [TYPE.REPEAT_BOTH]: 18,\n      [TYPE.NONE]: 0,\n    };\n\n    // Tell the formatter that bar notes have no duration.\n    this.ignore_ticks = true;\n    this.setType(type);\n  }\n\n  // Get and set the type of Bar note. `type` must be one of `Vex.Flow.Barline.type`.\n  getType() { return this.type; }\n  setType(type) {\n    this.type = typeof(type) === 'string'\n      ? Barline.typeString[type]\n      : type;\n\n    // Set width to width of relevant `Barline`.\n    this.setWidth(this.metrics.widths[this.type]);\n    return this;\n  }\n\n  getBoundingBox() {\n    return super.getBoundingBox();\n  }\n\n  addToModifierContext() {\n    /* overridden to ignore */\n    return this;\n  }\n\n  preFormat() {\n    /* overridden to ignore */\n    this.setPreFormatted(true);\n    return this;\n  }\n\n  // Render note to stave.\n  draw() {\n    this.checkContext();\n    if (!this.stave) throw new Vex.RERR('NoStave', \"Can't draw without a stave.\");\n    L('Rendering bar line at: ', this.getAbsoluteX());\n    const barline = new Barline(this.type);\n    barline.setX(this.getAbsoluteX());\n    barline.draw(this.stave);\n    this.setRendered();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}